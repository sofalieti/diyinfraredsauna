<div class="zoho-form-container">
    <!-- Progress Bar -->
    <div class="step-progress-bar mb-4">
        <div class="progress-steps">
            <div class="progress-step" data-step="1">
                <div class="step-number">1</div>
                <div class="step-title">Sauna Type</div>
            </div>
            <div class="progress-step" data-step="2">
                <div class="step-number">2</div>
                <div class="step-title">Roof Type</div>
            </div>
            <div class="progress-step" data-step="3">
                <div class="step-number">3</div>
                <div class="step-title">Windows</div>
            </div>
            <div class="progress-step" data-step="4">
                <div class="step-number">4</div>
                <div class="step-title">Capacity</div>
            </div>
            <div class="progress-step" data-step="5">
                <div class="step-number">5</div>
                <div class="step-title">Contact</div>
            </div>
            <div class="progress-line"></div>
        </div>
    </div>

    <form action='https://forms.zohopublic.com/zohopeople267/form/ChoisePreMadeSauna/formperma/S_Dg7mrERYYfOjCWdtGD6EHbbc3JHQ0nGQZfN3L7GLo/htmlRecords/submit' name='form' id='form' method='POST' accept-charset='UTF-8' enctype='multipart/form-data' class="zoho-premade-form">
        
        <input type="hidden" name="zf_referrer_name" value="">
        <input type="hidden" name="zf_redirect_url" value="">
        <input type="hidden" name="zc_gad" value="">
        
        <!-- Step 1: Sauna Type -->
        <div class="step-content" data-step="1">
            <h2 class="step-title mb-4">Choose Sauna Type</h2>
            <div class="form-group mb-4">
                <div class="radio-group">
                    <div class="radio-item">
                        <input type="radio" id="Radio_1" name="Radio" value="Infrared">
                        <label for="Radio_1" class="radio-label">
                            <div class="radio-content">
                                <div class="radio-icon">
                                    <img src="{{ asset('images/form-icons/infrared.svg') }}" alt="Infrared" width="40" height="40">
                                </div>
                                <div class="radio-text">Infrared</div>
                                <div class="radio-description">Deep heat therapy</div>
                            </div>
                        </label>
                    </div>
                    <div class="radio-item">
                        <input type="radio" id="Radio_2" name="Radio" value="Hybrid">
                        <label for="Radio_2" class="radio-label">
                            <div class="radio-content">
                                <div class="radio-icon">
                                    <img src="{{ asset('images/form-icons/hybrid.svg') }}" alt="Hybrid" width="40" height="40">
                                </div>
                                <div class="radio-text">Hybrid</div>
                                <div class="radio-description">Best of both worlds</div>
                            </div>
                        </label>
                    </div>
                    <div class="radio-item">
                        <input type="radio" id="Radio_3" name="Radio" value="Traditional">
                        <label for="Radio_3" class="radio-label">
                            <div class="radio-content">
                                <div class="radio-icon">
                                    <img src="{{ asset('images/form-icons/traditional.svg') }}" alt="Traditional" width="40" height="40">
                                </div>
                                <div class="radio-text">Traditional</div>
                                <div class="radio-description">Classic Finnish style</div>
                            </div>
                        </label>
                    </div>
                </div>
            </div>
        </div>

        <!-- Step 2: Roof Type -->
        <div class="step-content" data-step="2">
            <h2 class="step-title mb-4">Choose Roof Type</h2>
            <div class="form-group mb-4">
                <div class="radio-group">
                    <div class="radio-item">
                        <input type="radio" id="Radio1_1" name="Radio1" value="Slope">
                        <label for="Radio1_1" class="radio-label">
                            <div class="radio-content">
                                <div class="radio-icon">
                                    <img src="{{ asset('images/form-icons/slope-roof.svg') }}" alt="Slope Roof" width="40" height="40">
                                </div>
                                <div class="radio-text">Slope</div>
                                <div class="radio-description">Sloped roof with tiles</div>
                            </div>
                        </label>
                    </div>
                    <div class="radio-item">
                        <input type="radio" id="Radio1_2" name="Radio1" value="Peak">
                        <label for="Radio1_2" class="radio-label">
                            <div class="radio-content">
                                <div class="radio-icon">
                                    <img src="{{ asset('images/form-icons/peak-roof.svg') }}" alt="Peak Roof" width="40" height="40">
                                </div>
                                <div class="radio-text">Peak</div>
                                <div class="radio-description">Pyramid shaped roof</div>
                            </div>
                        </label>
                    </div>
                    <div class="radio-item">
                        <input type="radio" id="Radio1_3" name="Radio1" value="Indoor Sauna">
                        <label for="Radio1_3" class="radio-label">
                            <div class="radio-content">
                                <div class="radio-icon">
                                    <img src="{{ asset('images/form-icons/flat-roof.svg') }}" alt="Flat Roof" width="40" height="40">
                                </div>
                                <div class="radio-text">Indoor Sauna</div>
                                <div class="radio-description">Flat roof design</div>
                            </div>
                        </label>
                    </div>
                </div>
            </div>
        </div>

        <!-- Step 3: Windows Type -->
        <div class="step-content" data-step="3">
            <h2 class="step-title mb-4">Windows Type</h2>
            <div class="form-group mb-4">
                <div class="radio-group">
                    <div class="radio-item">
                        <input type="radio" id="Radio2_1" name="Radio2" value="Less Wood, More Glass">
                        <label for="Radio2_1" class="radio-label">
                            <div class="radio-content">
                                <div class="radio-icon">
                                    <img src="{{ asset('images/form-icons/more-glass.svg') }}" alt="More Glass" width="40" height="40">
                                </div>
                                <div class="radio-text">Less Wood, More Glass</div>
                                <div class="radio-description">More natural light</div>
                            </div>
                        </label>
                    </div>
                    <div class="radio-item">
                        <input type="radio" id="Radio2_2" name="Radio2" value="More Glass, Less Wood">
                        <label for="Radio2_2" class="radio-label">
                            <div class="radio-content">
                                <div class="radio-icon">
                                    <img src="{{ asset('images/form-icons/more-wood.svg') }}" alt="More Wood" width="40" height="40">
                                </div>
                                <div class="radio-text">More Wood, Less Glass</div>
                                <div class="radio-description">Traditional wood look</div>
                            </div>
                        </label>
                    </div>
                </div>
            </div>
        </div>

        <!-- Step 4: Person Count -->
        <div class="step-content" data-step="4">
            <h2 class="step-title mb-4">How Many Persons?</h2>
            <div class="form-group mb-4">
                <div class="radio-group person-count">
                    <div class="radio-item">
                        <input type="radio" id="Radio3_1" name="Radio3" value="2 Person">
                        <label for="Radio3_1" class="radio-label">
                            <div class="radio-content">
                                <div class="radio-icon">
                                    <img src="{{ asset('images/form-icons/2-person.svg') }}" alt="2 Person" width="40" height="40">
                                </div>
                                <div class="radio-text">2 Person</div>
                            </div>
                        </label>
                    </div>
                    <div class="radio-item">
                        <input type="radio" id="Radio3_2" name="Radio3" value="3 Person">
                        <label for="Radio3_2" class="radio-label">
                            <div class="radio-content">
                                <div class="radio-icon">
                                    <img src="{{ asset('images/form-icons/3-person.svg') }}" alt="3 Person" width="40" height="40">
                                </div>
                                <div class="radio-text">3 Person</div>
                            </div>
                        </label>
                    </div>
                    <div class="radio-item">
                        <input type="radio" id="Radio3_3" name="Radio3" value="4 Person">
                        <label for="Radio3_3" class="radio-label">
                            <div class="radio-content">
                                <div class="radio-icon">
                                    <img src="{{ asset('images/form-icons/4-person.svg') }}" alt="4 Person" width="40" height="40">
                                </div>
                                <div class="radio-text">4 Person</div>
                            </div>
                        </label>
                    </div>
                    <div class="radio-item">
                        <input type="radio" id="Radio3_4" name="Radio3" value="4 Person Corner">
                        <label for="Radio3_4" class="radio-label">
                            <div class="radio-content">
                                <div class="radio-icon">
                                    <img src="{{ asset('images/form-icons/4-person-corner.svg') }}" alt="4 Person Corner" width="40" height="40">
                                </div>
                                <div class="radio-text">4 Person Corner</div>
                            </div>
                        </label>
                    </div>
                    <div class="radio-item">
                        <input type="radio" id="Radio3_5" name="Radio3" value="5 Person">
                        <label for="Radio3_5" class="radio-label">
                            <div class="radio-content">
                                <div class="radio-icon">
                                    <img src="{{ asset('images/form-icons/5-person.svg') }}" alt="5 Person" width="40" height="40">
                                </div>
                                <div class="radio-text">5 Person</div>
                            </div>
                        </label>
                    </div>
                    <div class="radio-item">
                        <input type="radio" id="Radio3_6" name="Radio3" value="8 Person">
                        <label for="Radio3_6" class="radio-label">
                            <div class="radio-content">
                                <div class="radio-icon">
                                    <img src="{{ asset('images/form-icons/8-person.svg') }}" alt="8 Person" width="40" height="40">
                                </div>
                                <div class="radio-text">8 Person</div>
                            </div>
                        </label>
                    </div>
                </div>
            </div>
        </div>

        <!-- Step 5: Contact Information -->
        <div class="step-content" data-step="5">
            <h2 class="step-title mb-4">Contact Information</h2>
            
            <!-- Name -->
            <div class="form-group mb-3">
                <label for="SingleLine" class="form-label">
                    Enter Your Name <span class="required">*</span>
                </label>
                <input type="text" name="SingleLine" id="SingleLine" class="form-control" value="" fieldType="1" maxlength="255" placeholder="Your full name" required />
            </div>

            <!-- Phone -->
            <div class="row mb-3">
                <div class="col-md-4">
                    <label for="international_PhoneNumber_countrycodeval" class="form-label">Country Code</label>
                    <input type="text" compname="PhoneNumber_countrycodeval" name="PhoneNumber_countrycodeval" phoneFormat="1" maxlength="10" id="international_PhoneNumber_countrycodeval" class="form-control" placeholder="+1"/>
                </div>
                <div class="col-md-8">
                    <label for="international_PhoneNumber_countrycode" class="form-label">Phone Number</label>
                    <input type="text" compname="PhoneNumber" name="PhoneNumber_countrycode" phoneFormat="1" isCountryCodeEnabled="true" maxlength="20" value="" fieldType="11" id="international_PhoneNumber_countrycode" class="form-control" placeholder="Your phone number" />
                </div>
            </div>

            <!-- Email -->
            <div class="form-group mb-4">
                <label for="Email" class="form-label">Email</label>
                <input type="email" maxlength="255" name="Email" id="Email" class="form-control" value="" fieldType="9" placeholder="your@email.com" />
            </div>
        </div>

        <!-- Navigation Buttons -->
        <div class="step-navigation">
            <button type="button" class="btn btn-secondary" id="prevBtn" style="display: none;">
                <i class="fas fa-arrow-left mr-2"></i>Previous
            </button>
            <button type="button" class="btn btn-primary" id="nextBtn">
                Next<i class="fas fa-arrow-right ml-2"></i>
            </button>
            <button type="submit" class="btn btn-success btn-lg" id="submitBtn" style="display: none;">
                <i class="fas fa-paper-plane mr-2"></i>Submit Request
            </button>
        </div>
    </form>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    let currentStep = 1;
    const totalSteps = 5;
    
    const form = document.getElementById('form');
    const nextBtn = document.getElementById('nextBtn');
    const prevBtn = document.getElementById('prevBtn');
    const submitBtn = document.getElementById('submitBtn');
    
    // Step validation rules
    const stepValidation = {
        1: { name: 'Radio', message: 'Please select a sauna type' },
        2: { name: 'Radio1', message: 'Please select a roof type' },
        3: { name: 'Radio2', message: 'Please select a windows type' },
        4: { name: 'Radio3', message: 'Please select how many persons will use the sauna' },
        5: { 
            validate: function() {
                const name = form.querySelector('input[name="SingleLine"]');
                if (!name.value.trim()) {
                    return 'Please enter your name';
                }
                return null;
            }
        }
    };
    
    // Show specific step
    function showStep(step) {
        // Hide all steps with explicit style reset
        document.querySelectorAll('.step-content').forEach(content => {
            content.classList.remove('active');
            content.style.display = 'none';
        });
        
        // Show current step
        const currentStepElement = document.querySelector(`.step-content[data-step="${step}"]`);
        if (currentStepElement) {
            currentStepElement.classList.add('active');
            currentStepElement.style.display = 'block';
        }
        
        // Update progress bar
        updateProgressBar(step);
        
        // Update navigation buttons
        updateNavigationButtons(step);
        
        currentStep = step;
    }
    
    // Update progress bar
    function updateProgressBar(step) {
        document.querySelectorAll('.progress-step').forEach((progressStep, index) => {
            const stepNumber = index + 1;
            
            if (stepNumber < step) {
                progressStep.classList.add('completed');
                progressStep.classList.remove('active');
            } else if (stepNumber === step) {
                progressStep.classList.add('active');
                progressStep.classList.remove('completed');
            } else {
                progressStep.classList.remove('active', 'completed');
            }
        });
        
        // Update progress line
        const progressLine = document.querySelector('.progress-line');
        if (progressLine) {
            const progressWidth = ((step - 1) / (totalSteps - 1)) * 100;
            
            // Create or update the progress line fill
            let progressFill = progressLine.querySelector('.progress-fill');
            if (!progressFill) {
                progressFill = document.createElement('div');
                progressFill.className = 'progress-fill';
                progressLine.appendChild(progressFill);
            }
            
            progressFill.style.width = progressWidth + '%';
        }
    }
    
    // Update navigation buttons
    function updateNavigationButtons(step) {
        // Previous button
        if (step === 1) {
            prevBtn.style.display = 'none';
        } else {
            prevBtn.style.display = 'inline-block';
        }
        
        // Next/Submit buttons
        if (step === totalSteps) {
            nextBtn.style.display = 'none';
            submitBtn.style.display = 'inline-block';
        } else {
            nextBtn.style.display = 'inline-block';
            submitBtn.style.display = 'none';
        }
    }
    
    // Validate current step
    function validateCurrentStep() {
        const validation = stepValidation[currentStep];
        
        if (!validation) return true;
        
        if (validation.validate) {
            const error = validation.validate();
            if (error) {
                showErrorMessage(error);
                return false;
            }
        } else if (validation.name) {
            const checkedRadio = form.querySelector(`input[name="${validation.name}"]:checked`);
            if (!checkedRadio) {
                showErrorMessage(validation.message);
                return false;
            }
        }
        
        return true;
    }
    
    // Show error message
    function showErrorMessage(message) {
        // Create or update error message
        let errorDiv = document.querySelector('.step-error-message');
        if (!errorDiv) {
            errorDiv = document.createElement('div');
            errorDiv.className = 'step-error-message alert alert-danger mt-3';
            document.querySelector(`.step-content[data-step="${currentStep}"]`).appendChild(errorDiv);
        }
        
        errorDiv.textContent = message;
        errorDiv.style.display = 'block';
        
        // Hide after 5 seconds
        setTimeout(() => {
            errorDiv.style.display = 'none';
        }, 5000);
    }
    
    // Hide error message
    function hideErrorMessage() {
        const errorDiv = document.querySelector('.step-error-message');
        if (errorDiv) {
            errorDiv.style.display = 'none';
        }
    }
    
    // Next button click
    nextBtn.addEventListener('click', function() {
        if (validateCurrentStep()) {
            hideErrorMessage();
            if (currentStep < totalSteps) {
                showStep(currentStep + 1);
            }
        }
    });
    
    // Previous button click
    prevBtn.addEventListener('click', function() {
        hideErrorMessage();
        if (currentStep > 1) {
            showStep(currentStep - 1);
        }
    });
    
    // Form submission
    form.addEventListener('submit', function(e) {
        if (!validateCurrentStep()) {
            e.preventDefault();
            return false;
        }
        
        // Show loading state
        submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i>Sending...';
        submitBtn.disabled = true;
        
        // You can add additional validation here if needed
    });
    
    // Auto-advance on radio selection (optional)
    document.querySelectorAll('input[type="radio"]').forEach(radio => {
        radio.addEventListener('change', function() {
            hideErrorMessage();
            
            // Auto-advance after a short delay (except for last step)
            if (currentStep < 5) {
                setTimeout(() => {
                    if (validateCurrentStep()) {
                        showStep(currentStep + 1);
                    }
                }, 800);
            }
        });
    });
    
    // Initialize first step immediately
    showStep(1);
});
</script>

<style>
.progress-fill {
    position: absolute;
    top: 0;
    left: 0;
    height: 100%;
    background: #E47F36;
    transition: width 0.5s ease;
    width: 0%;
    border-radius: 1px;
}

.step-error-message {
    background: #f8d7da;
    border: 1px solid #f5c6cb;
    color: #721c24;
    padding: 10px 15px;
    border-radius: 8px;
    margin-top: 15px;
    display: none;
    animation: shake 0.5s ease-in-out;
}

@keyframes shake {
    0%, 100% { transform: translateX(0); }
    25% { transform: translateX(-5px); }
    75% { transform: translateX(5px); }
}
</style> 